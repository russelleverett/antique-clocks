@model Messages
@{
    ViewBag.MenuId = "#messages";
}

<div style="padding: 50px">
    @using (Html.BeginForm(FormMethod.Post, true, new { @class = "validation-form", action = "/Admin/Messages/Edit", enctype = "multipart/form-data", id = "editForm" })) {
        @Html.HiddenFor(x => x.Id)
        @Html.HiddenFor(x => x.Delete)
        <div class="row">
            <div class="col-md-6 col-md-offset-3">
                <fieldset>
                    <legend>Message Details:</legend>
                    <div class="form-group">
                        @Html.LabelFor(x => x.Message)
                        @Html.TextBoxFor(x => x.Message, new { @class = "form-control" })
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(x => x.StartDate)
                        <input type="date" id="StartDate" name="StartDate" class="form-control" value="@Model.StartDate.ToString("yyyy-MM-dd")" />
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(x => x.EndDate)
                        <input type="date" id="EndDate" name="EndDate" class="form-control" value="@Model.EndDate?.ToString("yyyy-MM-dd")" />
                    </div>
                </fieldset>
            </div>
        </div>
        <hr />
        <div class="row">
            <div class="col-md-12 clearfix">
                <input type="submit" class="btn btn-lg btn-success pull-right" value="Update Message" />
                <button class="btn btn-lg btn-danger pull-right" onclick="removeMessage();" style="margin-right: 5px;">Delete</button>
                <a href="/admin/messages" class="btn btn-danger btn-lg">Cancel</a>
            </div>
        </div>
    }
</div>

@section Scripts {
    <script>
        function removeMessage() {
            $('#Delete').attr("value", true);
        }
    </script>
}

